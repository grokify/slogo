- apiVersion: openslo/v1
  kind: SLO
  metadata:
    displayName: Daily Active Users (DAU)
    labels:
      audience:
      - product
      category:
      - engagement
      domain:
      - crm
      framework:
      - custom
      journey-stage:
      - engagement
      layer:
      - business
      scope:
      - business-outcome
      severity:
      - high
      tier:
      - p0
    name: daily-active-users
  spec:
    budgetingMethod: Occurrences
    description: Track daily active users to monitor platform engagement
    indicator:
      metadata:
        displayName: Daily active user count
        name: dau-count
      spec:
        thresholdMetric:
          metricSource:
            spec:
              query: count(count_over_time(user_activity_total[24h]) > 0)
            type: Prometheus
    objectives:
    - displayName: Healthy daily engagement
      op: gte
      target: 0.9
      value: 50000
    service: saas-crm-platform
    timeWindow:
    - duration: 1M
      isRolling: true
- apiVersion: openslo/v1
  kind: SLO
  metadata:
    displayName: Monthly Active Users (MAU)
    labels:
      audience:
      - product
      category:
      - engagement
      domain:
      - crm
      framework:
      - custom
      journey-stage:
      - engagement
      layer:
      - business
      scope:
      - business-outcome
      severity:
      - high
      tier:
      - p0
    name: monthly-active-users
  spec:
    budgetingMethod: Occurrences
    description: Track monthly active users to monitor overall platform adoption
    indicator:
      metadata:
        displayName: Monthly active user count
        name: mau-count
      spec:
        thresholdMetric:
          metricSource:
            spec:
              query: count(count_over_time(user_activity_total[30d]) > 0)
            type: Prometheus
    objectives:
    - displayName: Strong monthly engagement
      op: gte
      target: 0.9
      value: 200000
    service: saas-crm-platform
    timeWindow:
    - duration: 3M
      isRolling: true
- apiVersion: openslo/v1
  kind: SLO
  metadata:
    displayName: DAU/MAU Ratio (Stickiness)
    labels:
      audience:
      - product
      category:
      - engagement
      domain:
      - crm
      framework:
      - custom
      journey-stage:
      - engagement
      layer:
      - business
      metric-type:
      - stickiness
      scope:
      - business-outcome
      severity:
      - high
      tier:
      - p0
    name: dau-mau-ratio
  spec:
    budgetingMethod: Occurrences
    description: Track DAU/MAU ratio to measure product stickiness and engagement
      frequency
    indicator:
      metadata:
        displayName: Ratio of daily to monthly active users
        name: stickiness-ratio
      spec:
        thresholdMetric:
          metricSource:
            spec:
              query: count(count_over_time(user_activity_total[24h]) > 0) / count(count_over_time(user_activity_total[30d])
                > 0)
            type: Prometheus
    objectives:
    - displayName: Good stickiness
      op: gte
      target: 0.85
      value: 0.4
    service: saas-crm-platform
    timeWindow:
    - duration: 1M
      isRolling: true
- apiVersion: openslo/v1
  kind: SLO
  metadata:
    displayName: Weekly Active Users (WAU)
    labels:
      audience:
      - product
      category:
      - engagement
      domain:
      - crm
      framework:
      - custom
      journey-stage:
      - engagement
      layer:
      - business
      scope:
      - business-outcome
      severity:
      - high
      tier:
      - p1
    name: weekly-active-users
  spec:
    budgetingMethod: Occurrences
    description: Track weekly active users for mid-range engagement metrics
    indicator:
      metadata:
        displayName: Weekly active user count
        name: wau-count
      spec:
        thresholdMetric:
          metricSource:
            spec:
              query: count(count_over_time(user_activity_total[7d]) > 0)
            type: Prometheus
    objectives:
    - displayName: Healthy weekly engagement
      op: gte
      target: 0.9
      value: 120000
    service: saas-crm-platform
    timeWindow:
    - duration: 2M
      isRolling: true
- apiVersion: openslo/v1
  kind: SLO
  metadata:
    displayName: DAU/WAU Ratio
    labels:
      audience:
      - product
      category:
      - engagement
      domain:
      - crm
      framework:
      - custom
      journey-stage:
      - engagement
      layer:
      - business
      metric-type:
      - stickiness
      scope:
      - business-outcome
      severity:
      - high
      tier:
      - p1
    name: dau-wau-ratio
  spec:
    budgetingMethod: Occurrences
    description: Track DAU/WAU ratio to measure weekly engagement intensity
    indicator:
      metadata:
        displayName: Ratio of daily to weekly active users
        name: weekly-stickiness
      spec:
        thresholdMetric:
          metricSource:
            spec:
              query: count(count_over_time(user_activity_total[24h]) > 0) / count(count_over_time(user_activity_total[7d])
                > 0)
            type: Prometheus
    objectives:
    - displayName: Strong weekly stickiness
      op: gte
      target: 0.85
      value: 0.6
    service: saas-crm-platform
    timeWindow:
    - duration: 1M
      isRolling: true
- apiVersion: openslo/v1
  kind: SLO
  metadata:
    displayName: Power User Ratio
    labels:
      audience:
      - product
      category:
      - engagement
      domain:
      - crm
      framework:
      - custom
      journey-stage:
      - engagement
      layer:
      - business
      metric-type:
      - stickiness
      scope:
      - business-outcome
      severity:
      - high
      tier:
      - p1
    name: power-user-ratio
  spec:
    budgetingMethod: Timeslices
    description: Track percentage of users who are highly engaged (active 20+ days
      per month)
    indicator:
      metadata:
        displayName: Percentage of power users among MAU
        name: power-user-percentage
      spec:
        ratioMetric:
          counter: false
          good:
            metricSource:
              spec:
                query: SELECT COUNT(DISTINCT user_id) FROM user_activity WHERE days_active_last_30d
                  >= 20
              type: BigQuery
          total:
            metricSource:
              spec:
                query: SELECT COUNT(DISTINCT user_id) FROM user_activity WHERE days_active_last_30d
                  > 0
              type: BigQuery
    objectives:
    - displayName: Healthy power user base
      target: 0.25
      timeSliceTarget: 0.85
      timeSliceWindow: 1d
    service: saas-crm-platform
    timeWindow:
    - duration: 1M
      isRolling: true
