[
  {
    "apiVersion": "openslo/v1",
    "kind": "SLO",
    "metadata": {
      "name": "day7-retention",
      "displayName": "7-Day User Retention",
      "labels": {
        "audience": [
          "product"
        ],
        "category": [
          "conversion"
        ],
        "domain": [
          "crm"
        ],
        "framework": [
          "custom"
        ],
        "journey-stage": [
          "retention"
        ],
        "layer": [
          "business"
        ],
        "metric-type": [
          "retention"
        ],
        "scope": [
          "business-outcome"
        ],
        "severity": [
          "critical"
        ],
        "tier": [
          "p0"
        ]
      }
    },
    "spec": {
      "description": "Track percentage of users who return on day 7 after signup",
      "service": "saas-crm-platform",
      "indicator": {
        "metadata": {
          "name": "week-1-retention",
          "displayName": "Day 7 retention rate"
        },
        "spec": {
          "ratioMetric": {
            "counter": false,
            "good": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM user_retention WHERE days_since_signup = 7 AND was_active = true"
                }
              }
            },
            "total": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM users WHERE signup_date = DATE_SUB(CURRENT_DATE(), INTERVAL 7 DAY)"
                }
              }
            }
          }
        }
      },
      "budgetingMethod": "Timeslices",
      "timeWindow": [
        {
          "duration": "4w",
          "isRolling": true
        }
      ],
      "objectives": [
        {
          "displayName": "Strong early retention",
          "target": 0.5,
          "timeSliceTarget": 0.8,
          "timeSliceWindow": "1d"
        }
      ]
    }
  },
  {
    "apiVersion": "openslo/v1",
    "kind": "SLO",
    "metadata": {
      "name": "day30-retention",
      "displayName": "30-Day User Retention",
      "labels": {
        "audience": [
          "product"
        ],
        "category": [
          "conversion"
        ],
        "domain": [
          "crm"
        ],
        "framework": [
          "custom"
        ],
        "journey-stage": [
          "retention"
        ],
        "layer": [
          "business"
        ],
        "metric-type": [
          "retention"
        ],
        "scope": [
          "business-outcome"
        ],
        "severity": [
          "critical"
        ],
        "tier": [
          "p0"
        ]
      }
    },
    "spec": {
      "description": "Track percentage of users who return on day 30 after signup",
      "service": "saas-crm-platform",
      "indicator": {
        "metadata": {
          "name": "month-1-retention",
          "displayName": "Day 30 retention rate"
        },
        "spec": {
          "ratioMetric": {
            "counter": false,
            "good": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM user_retention WHERE days_since_signup = 30 AND was_active = true"
                }
              }
            },
            "total": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM users WHERE signup_date = DATE_SUB(CURRENT_DATE(), INTERVAL 30 DAY)"
                }
              }
            }
          }
        }
      },
      "budgetingMethod": "Timeslices",
      "timeWindow": [
        {
          "duration": "3M",
          "isRolling": true
        }
      ],
      "objectives": [
        {
          "displayName": "Good monthly retention",
          "target": 0.4,
          "timeSliceTarget": 0.8,
          "timeSliceWindow": "1d"
        }
      ]
    }
  },
  {
    "apiVersion": "openslo/v1",
    "kind": "SLO",
    "metadata": {
      "name": "monthly-churn-rate",
      "displayName": "Monthly Customer Churn Rate",
      "labels": {
        "audience": [
          "product"
        ],
        "category": [
          "conversion"
        ],
        "domain": [
          "crm"
        ],
        "framework": [
          "custom"
        ],
        "journey-stage": [
          "retention"
        ],
        "layer": [
          "business"
        ],
        "metric-type": [
          "retention"
        ],
        "scope": [
          "business-outcome"
        ],
        "severity": [
          "critical"
        ],
        "tier": [
          "p0"
        ]
      }
    },
    "spec": {
      "description": "Track monthly churn rate to ensure retention goals are met",
      "service": "saas-crm-platform",
      "indicator": {
        "metadata": {
          "name": "customer-retention-rate",
          "displayName": "Monthly retention rate (1 - churn)"
        },
        "spec": {
          "thresholdMetric": {
            "metricSource": {
              "type": "BigQuery",
              "spec": {
                "query": "SELECT 1 - (churned_customers / total_customers_start_of_month) FROM monthly_churn_metrics WHERE month = CURRENT_DATE()"
              }
            }
          }
        }
      },
      "budgetingMethod": "Occurrences",
      "timeWindow": [
        {
          "duration": "3M",
          "isRolling": true
        }
      ],
      "objectives": [
        {
          "displayName": "Low churn rate",
          "op": "gte",
          "value": 0.97,
          "target": 0.9
        }
      ]
    }
  },
  {
    "apiVersion": "openslo/v1",
    "kind": "SLO",
    "metadata": {
      "name": "user-resurrection-rate",
      "displayName": "User Resurrection Rate",
      "labels": {
        "audience": [
          "product"
        ],
        "category": [
          "conversion"
        ],
        "domain": [
          "crm"
        ],
        "framework": [
          "custom"
        ],
        "journey-stage": [
          "retention"
        ],
        "layer": [
          "business"
        ],
        "metric-type": [
          "retention"
        ],
        "scope": [
          "business-outcome"
        ],
        "severity": [
          "critical"
        ],
        "tier": [
          "p0"
        ]
      }
    },
    "spec": {
      "description": "Track percentage of previously inactive users (30+ days) who return",
      "service": "saas-crm-platform",
      "indicator": {
        "metadata": {
          "name": "resurrection-percentage",
          "displayName": "Monthly user resurrection rate"
        },
        "spec": {
          "ratioMetric": {
            "counter": false,
            "good": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM user_activity WHERE last_active_date \u003c= DATE_SUB(CURRENT_DATE(), INTERVAL 60 DAY) AND current_active_date \u003e= DATE_SUB(CURRENT_DATE(), INTERVAL 30 DAY)"
                }
              }
            },
            "total": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM users WHERE last_active_date \u003c= DATE_SUB(CURRENT_DATE(), INTERVAL 60 DAY)"
                }
              }
            }
          }
        }
      },
      "budgetingMethod": "Timeslices",
      "timeWindow": [
        {
          "duration": "1M",
          "isRolling": true
        }
      ],
      "objectives": [
        {
          "displayName": "Healthy resurrection rate",
          "target": 0.1,
          "timeSliceTarget": 0.75,
          "timeSliceWindow": "1d"
        }
      ]
    }
  },
  {
    "apiVersion": "openslo/v1",
    "kind": "SLO",
    "metadata": {
      "name": "cohort-retention-90d",
      "displayName": "90-Day Cohort Retention",
      "labels": {
        "audience": [
          "product"
        ],
        "category": [
          "conversion"
        ],
        "domain": [
          "crm"
        ],
        "framework": [
          "custom"
        ],
        "journey-stage": [
          "retention"
        ],
        "layer": [
          "business"
        ],
        "metric-type": [
          "retention"
        ],
        "scope": [
          "business-outcome"
        ],
        "severity": [
          "critical"
        ],
        "tier": [
          "p0"
        ]
      }
    },
    "spec": {
      "description": "Track percentage of users from each cohort still active after 90 days",
      "service": "saas-crm-platform",
      "indicator": {
        "metadata": {
          "name": "cohort-90d-retention",
          "displayName": "90-day cohort retention rate"
        },
        "spec": {
          "ratioMetric": {
            "counter": false,
            "good": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM user_cohorts WHERE cohort_date = DATE_SUB(CURRENT_DATE(), INTERVAL 90 DAY) AND days_active_in_last_30d \u003e 0"
                }
              }
            },
            "total": {
              "metricSource": {
                "type": "BigQuery",
                "spec": {
                  "query": "SELECT COUNT(DISTINCT user_id) FROM user_cohorts WHERE cohort_date = DATE_SUB(CURRENT_DATE(), INTERVAL 90 DAY)"
                }
              }
            }
          }
        }
      },
      "budgetingMethod": "Timeslices",
      "timeWindow": [
        {
          "duration": "3M",
          "isRolling": true
        }
      ],
      "objectives": [
        {
          "displayName": "Strong long-term retention",
          "target": 0.35,
          "timeSliceTarget": 0.8,
          "timeSliceWindow": "1d"
        }
      ]
    }
  }
]
